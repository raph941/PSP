{% extends 'dashboard.html' %}
{% load static %}

{% block extended-dashboard %}
    
    <h3 style="margin-top: 1.8rem;color: #627c63;font-weight:normal;" class="">Registered Users</h3>
    <div class="table-responsive">
        <table class="table table-responsive table-responsive-xl " style="display: table;">
        <thead class="thead-inverse">
            <tr>
            <th>S/N</th>
            <th>Image</th>                          
            <th>Full Name</th>
            <th>Activate</th>
            <th>Deactivate</th>
            </tr>
        </thead>
            <tbody>
            {% for user in users  %}
                <tr>
                <td>{{ forloop.counter }}</td>

                {% if user.userprofile.profile_pic %}
                    <td><a href="{% url 'myprofile' user.pk %}"><img src="{{ user.userprofile.profile_pic.url }}" class="pic avatar"></a></td>
                {% else %}
                    <td><a href="{% url 'myprofile' user.pk %}"><img src="{% static 'images/face.png' %}" class="pic avatar"></a></td>
                {% endif %}

                <td><a href="{% url 'myprofile' user.pk %}" style="color:#607d8b7d;">{{ user.first_name }} {{ user.last_name }}</a></td>
                <td><a href="" class="btn btn-publish">Activate</a></td>
                <td><a href="" class="btn btn-deny">Deactivate</a></td>
            </tbody>
            {% endfor %}
        </table>   

        <div class="row pagination-wrap">
            <div class="col-full">
                <nav class="pgn" >

                    {% if users.has_other_pages %}
                    <ul>
                        {% if users.has_previous %}
                            <li><a class="pgn__prev" href="?page={{ users.previous_page_number }}">&laquo;</a></li>
                        {% else %}
                            <li class="disabled pgn__prev"><span>&laquo;</span></li>
                        {% endif %}

                        {% for i in users.paginator.page_range %}
                        {% if users.number == i %}
                            <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                        {% else %}
                            <li><a href="?page={{ i }}">{{ i }}</a></li>
                        {% endif %}
                        {% endfor %}
                        {% if users.has_next %}
                        <li><a class="disabled pgn__next" href="?page={{ users.next_page_number }}">&raquo;</a></li>
                        {% else %}
                        <li class="disabled pgn__next"><span>&raquo;</span></li>
                        {% endif %}

                    </ul>
                    {% endif %}
                </nav>
            </div>
        </div>

    </div>
    
        
    {% endblock extended-dashboard %}